<mat-toolbar>
  <mat-form-field class="search">
    <input matInput #searchBox (keyup)="search(searchBox.value)" [(ngModel)]="searching" placeholder="Search">
    <button mat-button *ngIf="keyword" matSuffix mat-icon-button aria-label="Clear" (click)="keyword=''">
      <mat-icon>close</mat-icon>
    </button>
  </mat-form-field>

  <a mat-raised-button routerLink="../mine">我的笔记</a>

  <a mat-fab routerLink="../editor">
    <mat-icon title="创建新笔记">edit</mat-icon>
  </a>
</mat-toolbar>

<div *ngIf="searching">
  <mat-card *ngFor="let note of notes$ | async" class="note-card">
    <mat-card-title>{{ note.description }}</mat-card-title>
    <mat-card-subtitle>{{ note.subject }}</mat-card-subtitle>

    <mat-card-actions align="end">
      <a mat-button [href]="gistPage(note.gistId)" target="_blank">阅读笔记</a>
      <button mat-button>编辑</button>
    </mat-card-actions>
  </mat-card>
</div>

<div *ngIf="!searching">
  <mat-card *ngFor="let note of recommendations" class="note-card">
    <mat-card-title>{{ note.description }}</mat-card-title>
    <mat-card-subtitle>{{ note.subject }}</mat-card-subtitle>

    <mat-card-actions align="end">
      <a mat-button [href]="gistPage(note.gistId)" target="_blank">阅读笔记</a>
      <a mat-button (click)="modify(note.gistId)">编辑</a>
    </mat-card-actions>
  </mat-card>
</div>